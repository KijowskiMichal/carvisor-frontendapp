<app-leftpanel></app-leftpanel>
<div class="popup" *ngIf="popupOk" >
  <div class="popup-title">
    Komunikat
  </div>
  <div class="popup-line"></div>
  <div class="popup-text">
    Pomyślnie zaktualizowano użytkownika.
  </div>
  <div class="popup-footer">
      <div class="popup-green" (click)="popupOk=false" [routerLink]="['/users']">
        Ok
      </div>
  </div>
</div>
<div [ngClass]="popupOk==true ? 'shutItDown' : ''"></div>
<div class="popup" *ngIf="popupFail" >
  <div class="popup-title">
    Error
  </div>
  <div class="popup-line"></div>
  <div class="popup-text">
    Wystąpił błąd.
  </div>
  <div class="popup-footer">
    <div class="popup-green" (click)="popupFail=false">
      Ok
    </div>
  </div>
</div>
<div [ngClass]="popupFail==true ? 'shutItDown' : ''"></div>
<div id="editUser" *ngIf="userInfo">
  <div id="content">
    <div class="panel" >
      <div class="title">
        <i class="far fa-user"></i>
        Dane użytkownika
      </div>
      <input style="display: none" type="file" (change)="onFileChanged($event)" #fileInput>
      <div class="logo" [ngStyle]="{'background-image': 'url('+userInfo.image+')'}">
        <div (click)="fileInput.click()">
          <i class="far fa-pen"></i>
          Edytuj zdjęcie
        </div>
      </div>
      <div class="editContent">
        <div class="inputWrapper">
          <i class="far fa-user"></i>
          <input type="text" placeholder="Imię i nazwisko" title="Tylko litery, od 2 do 30 znaków." value="{{userInfo.name}}" #name>
        </div>
      </div>
      <div class="editContent">
        <div class="inputWrapper">
          <i class="far fa-phone"></i>
          <input type="text" placeholder="Telefon" title="9 cyfr bez spacji, znaków specjalnych i numeru kierunkowego." value="{{userInfo.telephone}}" #phone>
        </div>
      </div>
    </div>
    <div class="panel">
      <div class="title">
        <i class="far fa-car"></i>
        Pojazdy
      </div>
      <div class="editContent">
        <div class="inputWrapper">
          <i class="far fa-search"></i>
          <input type="text" placeholder="Szukaj">
        </div>
      </div>
    </div>
  </div>
  <div id="buttons">
    <div id="acceptButton" (click)="sendData(name, phone)">
      Aktualizuj
    </div>
    <a [routerLink]="['/users']" >
      <div id="cancelButton">
        Anuluj
      </div>
    </a>
    <div id="deleteButton">
      Usuń
    </div>
    <div id="resetButton">
      Resetuj hasło
    </div>
  </div>
</div>
